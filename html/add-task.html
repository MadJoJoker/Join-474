<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>

    <link rel="icon" href="../assets/icons/logo/joinLogo.svg" />

    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="../styles/add-task.css" />
    <link rel="stylesheet" href="../styles/standard.css" />
    <link rel="stylesheet" href="../styles/sidebar.css" />
    <link rel="stylesheet" href="../styles/colors.css" />
    <link rel="stylesheet" href="../styles/header.css" />
    <link rel="stylesheet" href="../styles/assets.css" />
    <link rel="stylesheet" href="../assets/fonts/font.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
  </head>

  <body>
    <div class="app-container">
      <section id="sidebar-area"></section>
      <script>
        // Von 'html/' -> '..' (Projekt-Root) -> 'js/' -> 'templates/'
        fetch("../js/templates/sidebar.html")
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("sidebar-area").innerHTML = data;
          });
      </script>
      <section class="main-content">
        <header id="header"></header>
        <script>
          // Von 'html/' -> '..' (Projekt-Root) -> 'js/' -> 'templates/'
          fetch("../js/templates/header.html")
            .then((response) => response.text())
            .then((data) => {
              document.getElementById("header").innerHTML = data;
            });
        </script>
        <div id="content"></div>

      <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

      <script type="module" src="../js/templates/add-tasl-template.js"></script>
      <script type="module" src="../js/pages/add-task.js"></script>
      <script type="module" src="../js/pages/sidebar.js"></script>

      <script type="module">
        // Import-Pfade sind RELATIV zu dieser HTML-Datei (die im 'html/' Ordner liegt)
        // Von 'html/' -> '..' (Projekt-Root) -> 'js/' -> 'templates/'
        import { getAddTaskFormHTML } from '../js/templates/add-task-template.js';
        import { initAddTaskForm } from '../js/pages/add-task.js';

        document.addEventListener('DOMContentLoaded', () => {
          const container = document.getElementById('content');
          if (container) {
            container.innerHTML = getAddTaskFormHTML();
            initAddTaskForm();
          }
        });
      </script>
  </body>
</html>
