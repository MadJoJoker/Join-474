<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>

    <link rel="icon" href="../assets/icons/logo/joinLogo.svg" />

    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="../styles/add-task.css" />
    <link rel="stylesheet" href="../styles/standard.css" />
    <link rel="stylesheet" href="../styles/sidebar.css" />
    <link rel="stylesheet" href="../styles/colors.css" />
    <link rel="stylesheet" href="../styles/header.css" />
    <link rel="stylesheet" href="../styles/assets.css" />
    <link rel="stylesheet" href="../assets/fonts/font.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
  </head>

  <body>
    <div class="app-container">
      <section id="sidebar-area"></section>
      <script>
        fetch("../js/templates/sidebar.html")
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("sidebar-area").innerHTML = data;
          });
      </script>
      <section class="main-content">
        <header id="header"></header>
        <script>
          fetch("../js/templates/header.html")
            .then((response) => response.text())
            .then((data) => {
              document.getElementById("header").innerHTML = data;
            });
        </script>
        <main class="content">
          <h1>Add Task</h1>
          <form id="add-task-form" class="form">
            <div class="form-fill-part">
              <div class="left-form">
                <div class="label-container">
                  <label for="title" class="required font-size-20">Title</label>
                  <input
                    name="title"
                    class="input-field"
                    type="text"
                    id="title"
                    placeholder="Enter a title"
                    required
                    data-event-handle="true"
                  />
                </div>
                <div class="label-container">
                  <label for="task-description" class="font-size-20"
                    >Description</label
                  >
                  <div class="textarea-wrapper">
                    <textarea
                      name="task-description"
                      id="task-description"
                      class="task-description-area"
                      placeholder="Enter a Description"
                    ></textarea>
                    <img
                      src="../assets/icons/btn/resize-handle.svg"
                      class="resize-handle"
                      draggable="false"
                      data-event-handle="true"
                    />
                  </div>
                </div>
                <div class="label-container">
                  <label for="datepicker" class="required font-size-20"
                    >Due Date</label
                  >
                  <div class="input-inline">
                    <input
                      name="datepicker"
                      id="datepicker"
                      type="text"
                      placeholder="dd/mm/yyyy"
                      class="input-field"
                      required
                      data-event-handle="true"
                    />
                    </div>
                </div>
              </div>
              <div class="border"></div>
              <div class="right-form">
                <div class="label-container">
                  <fieldset
                    aria-labelledby="priority-legend"
                    style="border: none"
                  >
                    <legend id="priority-legend" class="font-size-20">
                      Priority
                    </legend>
                    <div class="d-flex gap-16" role="group">
                      <button
                        type="button"
                        class="priority-btn urgent-btn"
                        data-priority="urgent"
                        data-event-handle="true"
                      >
                        Urgent
                        <img
                          src="../assets/icons/property/urgent.svg"
                          alt="Urgent Icon"
                        />
                      </button>
                      <button
                        type="button"
                        class="priority-btn medium-btn active"
                        data-priority="medium"
                        data-event-handle="true"
                      >
                        Medium
                        <img
                          src="../assets/icons/property/medium.svg"
                          alt="Medium Icon"
                        />
                      </button>
                      <button
                        type="button"
                        class="priority-btn low-btn"
                        data-priority="low"
                        data-event-handle="true"
                      >
                        Low
                        <img
                          src="../assets/icons/property/low.svg"
                          alt="Low Icon"
                        />
                      </button>
                    </div>
                  </fieldset>
                </div>
                <div class="label-container">
                  <label for="assigned-to" class="required font-size-20"
                    >Assigned to</label
                  >
                  <div
                    class="select-wrapper input-field"
                    id="dropdown-assigned-to"
                    data-event-handle="true"
                  >
                    <div class="selected-option" id="selected-assigned-to">
                      Select contacts to assign
                    </div>
                    <div
                      class="dropdown-icon-container"
                      id="dropdown-icon-container-one"
                    >
                      <img
                        src="../assets/icons/btn/arrow_drop_down.svg"
                        alt="Dropdown Arrow"
                        class="dropdown-icon"
                        id="dropdown-icon-one"
                      />
                    </div>
                  </div>
                  <div class="options-wrapper" id="assigned-to-options-wrapper">
                    <div
                      class="assigned-to-options-container"
                      id="assigned-to-options-container"
                    ></div>
                    <div class="spacer d-none"></div>
                    <div
                      id="assigned-to-area"
                      class="initials-container"
                    ></div>
                  </div>
                </div>
                <div class="label-container">
                  <label for="category" class="required font-size-20"
                    >Category</label
                  >
                  <input type="hidden" id="hidden-category-input" required />
                  <div
                    class="select-wrapper input-field"
                    id="dropdown-category"
                    data-event-handle="true"
                  >
                    <div class="selected-option" id="selected-category">
                      Select task category
                    </div>
                    <div
                      class="dropdown-icon-container"
                      id="dropdown-icon-container-two"
                    >
                      <img
                        src="../assets/icons/btn/arrow_drop_down.svg"
                        alt="Dropdown Arrow"
                        class="dropdown-icon"
                        id="dropdown-icon-two"
                      />
                    </div>
                  </div>
                  <div class="options-wrapper" id="category-options-wrapper">
                    <div
                      class="category-options-container"
                      id="category-options-container"
                    ></div>
                  </div>
                </div>
                <div class="label-container">
                  <label for="subtask" class="font-size-20">Subtasks</label>
                  <div class="subtask-input-container">
                    <input
                      type="text"
                      id="subtask-input"
                      class="input-field-subtask"
                      placeholder="Add new subtask"
                      data-event-handle="true"
                    />
                    <div class="subtask-icons" style="display: none">
                      <img
                        src="../assets/icons/btn/close.svg"
                        alt="Clear"
                        class="subtask-icon"
                        data-event-handle="true"
                      />
                      <div class="subtask-separator"></div>
                      <img
                        src="../assets/icons/btn/check.svg"
                        alt="Add"
                        class="subtask-icon"
                        data-event-handle="true"
                      />
                    </div>
                    <button
                      type="button"
                      class="input-button"
                      id="add-subtask-btn"
                      style="display: block"
                      data-event-handle="true"
                    >
                      <img
                        src="../assets/icons/btn/add-black.svg"
                        alt="Plus Icon"
                      />
                    </button>
                  </div>
                  <ul id="subtasks-list" class="subtasks-list"></ul>
                </div>
              </div>
            </div>
            <div class="form-buttons-part">
              <div class="sign-info">This field is required</div>
              <div class="buttons-area">
                <button type="reset" class="clear-btn" data-event-handle="true">
                  Clear
                  <img src="../assets/icons/btn/close.svg" alt="Close Icon" />
                </button>
                <button
                  type="submit"
                  class="create-btn"
                  data-event-handle="true"
                >
                  Create Task
                  <img
                    src="../assets/icons/btn/check-mark.svg"
                    alt="Check-mark Icon"
                  />
                </button>
              </div>
            </div>
          </form>
        </main>
      </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script type="module">
      import { initAddTaskForm } from "../js/pages/add-task.js";

      document.addEventListener("DOMContentLoaded", () => {
        initAddTaskForm();
      });
    </script>
  </body>
</html>
